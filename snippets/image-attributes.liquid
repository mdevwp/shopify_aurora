{%- liquid
  if size == 'medium'
    assign res_list = '128,240,380,480,540,640,720,920,1080' | split: ','
  elsif size == 'small'
    assign res_list = '64,128,240,380,480,540,640' | split: ','
  elsif size == 'xsmall'
    assign res_list = '64,128,240,380' | split: ','
  elsif size == 'product-card-image'
    assign res_list = '128,240,380,540,720' | split: ','
  else
    assign res_list = '128,240,380,540,720,920,1080,1440,1920' | split: ','
  endif


   if class contains 'media__image'
      assign is_eager_loading = true 
   endif;


  assign loading = 'lazy'
  if is_eager_loading
    assign loading = 'eager'
  endif
-%}

{% assign mobile_res_list = '128,240,380,480,540,640' | split: ',' %}

{% assign image_alt = image.alt | escape %}
{% if image_alt == blank %}
    {% if product %}
        {% assign image_alt = 'Foto von ' | append: product.title | escape %}
    {% elsif section.settings.title != blank %}
        {% assign image_alt = section.settings.title | escape %}
    {% else %}
        {% assign image_alt = 'Foto von Alexascha' %}
    {% endif %}
{% endif %}


{% if class contains 'art_dir' %}
  
  class='{{ class }} {{ class_from_parent }}' 
    nopin='nopin'
    src='{{ image | image_url: width: 2000 }}'
    srcset='
        {{ image | image_url: width: 480 }} 480w,
        {{ image | image_url: width: 768 }} 768w,
        {{ image | image_url: width: 1024 }} 1024w,
        {{ image | image_url: width: 1440 }} 1440w,
        {{ image | image_url: width: 2000 }} 2000w
    '
    sizes='(max-width: 480px) 480px, 
           (max-width: 768px) 768px, 
           (max-width: 1024px) 1024px, 
           (max-width: 1440px) 1440px, 
           2000px'
    alt='{{ image_alt }}'
    title='{{ image_alt }}'
    width='{{ image.width }}' 
    height='{{ image.height }}' 
    style='object-position: {{ image.presentation.focal_point }};' 
    fetchpriority='high'
  
{% else %}
  
    class='lazyload {{ class }}
    {{ class_from_parent }}
    {% if is_multiply_target %} multiply-mode__target {% endif %}' 
    nopin='nopin'
    src='
    {% if is_variant_image != true %}
      {{- image | image_url: width: 160 -}}
      ' data-srcset='
      {%- for res in res_list -%}
        {{ image | image_url: width: res }}
        {{ res }}w,
      {%- endfor -%}
    {% else %}
      {{ image | replace: 'files/', '' | file_img_url: 'original' }}
      
    {% endif %}
    '
    data-sizes='auto' 
    alt='{{ image_alt }}'
    title='{{ image_alt }}'
    loading='{{ loading }}' width='1' height='1' style='object-position:
    {{ image.presentation.focal_point }};'
    {% if parent_fit == blank %}
      data-parent-fit='cover' data-aspectratio='
      {{- image.aspect_ratio -}}
      '
    {% endif %}
  
{% endif %}