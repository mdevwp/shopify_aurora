{"version":3,"file":"main.fb7493b2fbd1fb23130d.hot-update.js","mappings":";;;;;;;;;;;;;AAAA,uGAAmE;AACnE,4EAAiD;AACjD,kGAGuB;AACvB,0HAAyD;AACzD,mEAA+D;AAC/D,+DAAiE;AACjE,iFAAyE;AACzE,+EAAkD;AAMlD,MAAa,iBAAkB,SAAQ,8BAAa;IAClD,kBAAkB,CAAS;IAC3B,oBAAoB,CAAS;IAC7B,YAAY,CAAS;IACrB,QAAQ,CAAS;IACjB,UAAU,CAAS;IACnB,MAAM,CAAS;IACf,YAAY,CAAS;IACrB,QAAQ,CAAK;IACb,KAAK,CAAmB;IACxB,cAAc,CAAgB;IAE9B;QACE,KAAK,EAAE;QACP,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,KAAK,aAAa;QACrE,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,KAAK,UAAU;QACpE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,kBAAkB,IAAI,IAAI,CAAC,oBAAoB;QAExE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,KAAK,MAAM;IACnD,CAAC;IAED,cAAc;QACZ,IAAI,CAAC,WAAW,EAAE;QAClB,IAAI,CAAC,WAAW,EAAE;QAElB,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC;QAErD,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,QAAQ,EAAE,IAAI,CAAC,oBAAoB,CAAC;QAClD,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,QAAQ,EAAE,IAAI,CAAC,oBAAoB,CAAC;QAClD,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,WAAW,EAAE,IAAI,CAAC,uBAAuB,CAAC;QACxD,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,aAAa,EAAE,IAAI,CAAC,yBAAyB,CAAC;QAE5D,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC;YACpC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC;YACxC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC;YACtC,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;SAC1D;aAAM;YACL,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE;gBAC7B,IAAI,CAAC,MAAM,EAAE;YACf,CAAC,CAAC;YACF,IAAI,CAAC,MAAM,EAAE;SACd;QAED,MAAM,cAAc,GAAG,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,IAAI,IAAI,CAAC,MAAM;QAC3E,IAAI,cAAc,EAAE;YAClB,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,YAAY,EAAE,IAAI,CAAC,mBAAmB,CAAC;YAC9D,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,YAAY,EAAE,IAAI,CAAC,mBAAmB,CAAC;SAC/D;QAED,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,cAAc,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,oBAAoB,CAAC;YACnE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC;YACjC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,cAAc,EAAE,IAAI,CAAC,iBAAiB,CAAC;YACtD,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,cAAc,EAAE,IAAI,CAAC,iBAAiB,CAAC;SACvD;IACH,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE;QAEpB,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE;SACjC;IACH,CAAC;IAED,aAAa,GAAG,CAAC,KAAoB,EAAQ,EAAE;QAC7C,IAAI,CAAC,IAAI,EAAE;QAEX,IAAI,kBAAQ,EAAC,KAAK,CAAC,EAAE;YACnB,MAAM,OAAO,GAAG,iBAAK,EAAC,2BAAe,GAAE,EAAE,IAAI,CAAC,CAAC,MAAM,CACnD,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,WAAW,GAAG,CAAC,CACjC;YACD,MAAM,KAAK,GAAG,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,KAAK,KAAK,CAAC,MAAM,CAAC;YAClE,MAAM,UAAU,GAAG,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC;YACrC,MAAM,UAAU,GAAG,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC;YAErC,IAAI,KAAK,CAAC,QAAQ,EAAE;gBAClB,IAAI,UAAU,EAAE;oBACd,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC;iBAC7B;aACF;iBAAM;gBACL,IAAI,UAAU,EAAE;oBACd,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC;iBAC7B;aACF;SACF;QAED,IAAI,mBAAS,EAAC,KAAK,CAAC,EAAE;YACpB,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE;SACxB;QAED,IAAI,oBAAU,EAAC,KAAK,CAAC,EAAE;YACrB,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE;SACxB;IACH,CAAC;IAED,oBAAoB,GAAG,GAAS,EAAE;QAChC,IAAI,IAAI,CAAC,YAAY,KAAK,0BAAQ,GAAE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YACpD,IAAI,CAAC,IAAI,EAAE;SACZ;QAED,IAAI,CAAC,YAAY,GAAG,0BAAQ,GAAE;IAChC,CAAC;IAED,WAAW,GAAG,CAAC,MAAmB,EAAQ,EAAE;QAC1C,MAAM,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC;QAC3C,MAAM,UAAU,GAAG,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAEpE,IAAI,UAAU,KAAK,CAAC,CAAC,EAAE;YACrB,OAAM;SACP;QAED,MAAM,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAClC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC,MAAM,CACnD;QACD,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,iBAAiB,CAAC;QAE5D,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,SAAS,EAAE,IAAI,CAAC;IACtC,CAAC;IAED,mBAAmB,GAAG,GAAS,EAAE;QAC/B,IAAI,0BAAQ,GAAE,EAAE;YACd,OAAM;SACP;QAED,IAAI,IAAI,CAAC,MAAM,KAAK,IAAI,EAAE;YACxB,IAAI,CAAC,QAAQ,EAAE,KAAK,EAAE;SACvB;IACH,CAAC;IAED,mBAAmB,GAAG,GAAS,EAAE;QAC/B,IAAI,0BAAQ,GAAE,EAAE;YACd,OAAM;SACP;QAED,IAAI,IAAI,CAAC,MAAM,KAAK,IAAI,EAAE;YACxB,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE;SACtB;IACH,CAAC;IAED,oBAAoB,GAAG,GAAS,EAAE;QAChC,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,kBAAkB,EAAE,EAAE;QAC9D,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,EAAE,CAAC;IACjC,CAAC;IAED,oBAAoB,GAAG,GAAS,EAAE;QAChC,IAAI,IAAI,CAAC,UAAU,EAAE;YACnB,IAAI,CAAC,IAAI,EAAE;SACZ;QAED,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,EAAE,CAAC;IACjC,CAAC;IAED,uBAAuB,GAAG,GAAS,EAAE;QACnC,IAAI,CAAC,UAAU,GAAG,KAAK;IACzB,CAAC;IAED,yBAAyB,GAAG,GAAS,EAAE;QACrC,IAAI,CAAC,UAAU,GAAG,IAAI;IACxB,CAAC;IAED,iBAAiB,GAAG,CAAC,EAAE,MAAM,EAAE,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAQ,EAAE;QACrE,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,KAAK,SAAS,EAAE;YACxC,OAAM;SACP;QAED,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE;QACtC,MAAM,UAAU,GAAG,MAAM,CAAC,SAAS,CACjC,CAAC,EAAE,UAAU,EAAE,EAAE,EAAE,CAAC,UAAU,CAAC,UAAU,CAAC,EAAE,KAAK,KAAK,OAAO,CAC9D;QAED,IAAI,UAAU,KAAK,CAAC,CAAC,EAAE;YACrB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,UAAU,EAAE,IAAI,CAAC;YACrC,IAAI,CAAC,IAAI,EAAE;SACZ;IACH,CAAC;IAED,iBAAiB,GAAG,CAAC,EAAE,MAAM,EAAE,EAAE,SAAS,EAAE,EAAE,EAAQ,EAAE;QACtD,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,KAAK,SAAS,EAAE;YACxC,IAAI,CAAC,IAAI,EAAE;YAEX,IAAI,IAAI,CAAC,YAAY,EAAE;gBACrB,IAAI,CAAC,WAAW,EAAE;aACnB;YAED,IAAI,CAAC,MAAM,EAAE;SACd;IACH,CAAC;IAED,UAAU,GAAG,GAAyB,EAAE,CAAC,CAAC;QACxC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC;QACpC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC;QAC7C,SAAS,EAAE,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC;QAC9C,SAAS,EAAE,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC;QAC/C,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,YAAY,CAAwB;QAC7D,aAAa,EAAE,IAAI,CAAC,YAAY,CAC9B,qBAAqB,CACK;QAC5B,eAAe,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,IAAI,CAAC,CAAC,IAAI,IAAI;QAC9D,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,WAAW,CAAmB;QACtD,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC;YAChD,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC;YACtC,CAAC,CAAC,SAAS;QACb,cAAc,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QAClE,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC;YAC/C,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;YACjC,CAAC,CAAC,CAAC;KACN,CAAC;IAEF,UAAU,GAAG,GAAsB,EAAE;QACnC,MAAM,OAAO,GAAsB,CAAC,wCAAgB,GAAE,CAAC;QAEvD,IAAI,IAAI,CAAC,YAAY,CAAC,0BAA0B,CAAC,EAAE;YACjD,OAAO,CAAC,IAAI,CACV,uDAAmB,EAAC;gBAClB,cAAc,EAAE,IAAI,CAAC,YAAY,CAAC,WAAW,CAAQ;aACtD,CAAC,CACH;SACF;QAED,OAAO,OAAO;IAChB,CAAC;IAED,WAAW;QACT,MAAM,QAAQ,GAAG,eAAG,EAAC,0BAA0B,EAAE,IAAI,CAAC;QAEtD,IAAI,CAAC,QAAQ,EAAE;YACb,OAAM;SACP;QAED,IAAI,CAAC,KAAK,GAAG,4BAAa,EAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,EAAE,EAAE,IAAI,CAAC,UAAU,EAAE,CAAC;IAC5E,CAAC;IAED,WAAW;QACT,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,OAAM;SACP;QAED,MAAM,gBAAgB,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,IAAI,CAAC,CAAC;QAE9D,IAAI,CAAC,MAAM,GAAG,gBAAgB,GAAG,CAAC;QAElC,IAAI,IAAI,CAAC,kBAAkB,EAAE;YAC3B,IAAI,CAAC,QAAQ,GAAG,yCAAiB,EAAC,IAAI,CAAC,KAAK,EAAE,gBAAgB,GAAG,IAAI,CAAC;YACtE,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE;SACtB;QAED,IAAI,IAAI,CAAC,oBAAoB,EAAE;YAC7B,IAAI,CAAC,QAAQ,GAAG,wCAAgB,EAAC,IAAI,CAAC,KAAK,EAAE,gBAAgB,CAAC;YAC9D,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE;SACrB;IACH,CAAC;IAED,IAAI;QACF,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACtB,OAAM;SACP;QAED,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE;QAErB,IAAI,CAAC,MAAM,GAAG,KAAK;QAEnB,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,EAAE,CAAC;IAClC,CAAC;IAED,IAAI;QACF,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACtB,OAAM;SACP;QAED,IAAI,IAAI,CAAC,kBAAkB,EAAE;YAC3B,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE;SACtB;QAED,IAAI,IAAI,CAAC,oBAAoB,EAAE;YAC7B,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE;SACrB;QAED,IAAI,CAAC,MAAM,GAAG,IAAI;QAElB,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,EAAE,CAAC;IAClC,CAAC;IAED,UAAU,GAAG,GAAS,EAAE;QACtB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,qBAAqB,CAAC;QAC5C,IAAI,CAAC,MAAM,EAAE;IACf,CAAC;IAED,QAAQ,GAAG,GAAS,EAAE;QACpB,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;QACxC,MAAM,MAAM,GAAG,KAAK,CAAC,qBAAqB,EAAE,CAAC,MAAM;QAEnD,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,sBAAsB,MAAM,IAAI,CAAC;QAC5D,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,qBAAqB,CAAC;IAC3C,CAAC;IAED,MAAM,GAAG,CAAC,UAAgC,EAAE,EAAQ,EAAE;QACpD,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,GAAG,IAAI,CAAC,UAAU,EAAE,EAAE,GAAG,OAAO,EAAE,EAAE,IAAI,CAAC,UAAU,EAAE,CAAC;IAC5E,CAAC;CACF;AA5SD,8CA4SC;;;;;;;;;UC5TD,qCAAqC","sources":["webpack://Aurora/./src/scripts/components/carousel/carousel.ts","webpack://Aurora/webpack/runtime/getFullHash"],"sourcesContent":["import { WheelGesturesPlugin } from 'embla-carousel-wheel-gestures'\r\nimport { BaseComponent } from '../base-component'\r\nimport EmblaCarousel, {\r\n  EmblaCarouselType,\r\n  EmblaPluginType,\r\n} from 'embla-carousel'\r\nimport ClassNamesPlugin from 'embla-carousel-class-names'\r\nimport { getFocusTargets, $el, $list } from '../../utils/utils'\r\nimport { isLeftKey, isRightKey, isTabKey } from '../../utils/key'\r\nimport { oneAtTimeAutoPlay, seamlessAutoPlay } from './carousel-autoplay'\r\nimport { isMobile } from '../../utils/check-media'\r\nimport { OptionsType } from 'embla-carousel/components/Options'\r\nimport { AlignmentOptionType } from 'embla-carousel/components/Alignment'\r\nimport { ScrollContainOptionType } from 'embla-carousel/components/ScrollContain'\r\nimport { AxisOptionType } from 'embla-carousel/components/Axis'\r\n\r\nexport class CarouselComponent extends BaseComponent {\r\n  withSimpleAutoplay: boolean\r\n  withSeamlessAutoplay: boolean\r\n  withAutoplay: boolean\r\n  withFade: boolean\r\n  isTouching: boolean\r\n  isPlay: boolean\r\n  lastIsMobile: boolean\r\n  autoplay: any\r\n  embla: EmblaCarouselType\r\n  resizeObserver: ResizeObserver\r\n\r\n  constructor() {\r\n    super()\r\n    this.withSimpleAutoplay = this.dataset.autoplayMode === 'one_at_time'\r\n    this.withSeamlessAutoplay = this.dataset.autoplayMode === 'seamless'\r\n    this.withAutoplay = this.withSimpleAutoplay || this.withSeamlessAutoplay\r\n\r\n    this.withFade = this.dataset.animation === 'fade'\r\n  }\r\n\r\n  mountComponent(): void {\r\n    this.setCarousel()\r\n    this.setAutoplay()\r\n\r\n    this.addListener(this, 'keydown', this.handleKeydown)\r\n\r\n    this.embla.on('select', this.handleCarouselSelect)\r\n    this.embla.on('scroll', this.handleCarouselScroll)\r\n    this.embla.on('pointerUp', this.handleCarouselPointerUp)\r\n    this.embla.on('pointerDown', this.handleCarouselPointerDown)\r\n\r\n    if (this.withFade) {\r\n      this.embla.on('init', this.initFade)\r\n      this.embla.on('resize', this.resizeFade)\r\n      this.embla.on('reInit', this.initFade)\r\n      this.embla.internalEngine().translate.toggleActive(false)\r\n    } else {\r\n      document.fonts.ready.then(() => {\r\n        this.reInit()\r\n      })\r\n      this.reInit()\r\n    }\r\n\r\n    const withHoverPause = this.hasAttribute('with-hover-pause') && this.isPlay\r\n    if (withHoverPause) {\r\n      this.addListener(this, 'mouseenter', this.handleCarouselEnter)\r\n      this.addListener(this, 'mouseleave', this.handleCarouselLeave)\r\n    }\r\n\r\n    if (this.isEditor) {\r\n      this.resizeObserver = new ResizeObserver(this.handleCarouselResize)\r\n      this.resizeObserver.observe(this)\r\n      this.editor.on('BLOCK_SELECT', this.handleBlockSelect)\r\n      this.editor.on('SECTION_LOAD', this.handleSectionLoad)\r\n    }\r\n  }\r\n\r\n  unmountComponent(): void {\r\n    this.embla.destroy()\r\n\r\n    if (this.isEditor) {\r\n      this.resizeObserver.disconnect()\r\n    }\r\n  }\r\n\r\n  handleKeydown = (event: KeyboardEvent): void => {\r\n    this.stop()\r\n\r\n    if (isTabKey(event)) {\r\n      const targets = $list(getFocusTargets(), this).filter(\r\n        target => target.clientWidth > 0,\r\n      )\r\n      const index = targets.findIndex(target => target === event.target)\r\n      const nextTarget = targets[index + 1]\r\n      const prevTarget = targets[index - 1]\r\n\r\n      if (event.shiftKey) {\r\n        if (prevTarget) {\r\n          this.focusScroll(prevTarget)\r\n        }\r\n      } else {\r\n        if (nextTarget) {\r\n          this.focusScroll(nextTarget)\r\n        }\r\n      }\r\n    }\r\n\r\n    if (isLeftKey(event)) {\r\n      this.embla.scrollPrev()\r\n    }\r\n\r\n    if (isRightKey(event)) {\r\n      this.embla.scrollNext()\r\n    }\r\n  }\r\n\r\n  handleCarouselResize = (): void => {\r\n    if (this.lastIsMobile !== isMobile() && !this.isPlay) {\r\n      this.play()\r\n    }\r\n\r\n    this.lastIsMobile = isMobile()\r\n  }\r\n\r\n  focusScroll = (target: HTMLElement): void => {\r\n    const slides = [...this.embla.slideNodes()]\r\n    const slideIndex = slides.findIndex(slide => slide.contains(target))\r\n\r\n    if (slideIndex === -1) {\r\n      return\r\n    }\r\n\r\n    const slidesInOneScroll = Math.floor(\r\n      slides.length / this.embla.scrollSnapList().length,\r\n    )\r\n    const snapIndex = Math.floor(slideIndex / slidesInOneScroll)\r\n\r\n    this.embla.scrollTo(snapIndex, true)\r\n  }\r\n\r\n  handleCarouselEnter = (): void => {\r\n    if (isMobile()) {\r\n      return\r\n    }\r\n\r\n    if (this.isPlay === true) {\r\n      this.autoplay?.pause()\r\n    }\r\n  }\r\n\r\n  handleCarouselLeave = (): void => {\r\n    if (isMobile()) {\r\n      return\r\n    }\r\n\r\n    if (this.isPlay === true) {\r\n      this.autoplay?.play()\r\n    }\r\n  }\r\n\r\n  handleCarouselSelect = (): void => {\r\n    this.dataset.startIndex = `${this.embla.selectedScrollSnap()}`\r\n    this.emit('carouselSelect', {})\r\n  }\r\n\r\n  handleCarouselScroll = (): void => {\r\n    if (this.isTouching) {\r\n      this.stop()\r\n    }\r\n\r\n    this.emit('carouselSelect', {})\r\n  }\r\n\r\n  handleCarouselPointerUp = (): void => {\r\n    this.isTouching = false\r\n  }\r\n\r\n  handleCarouselPointerDown = (): void => {\r\n    this.isTouching = true\r\n  }\r\n\r\n  handleBlockSelect = ({ detail: { sectionId, blockId, load } }): void => {\r\n    if (this.dataset.sectionId !== sectionId) {\r\n      return\r\n    }\r\n\r\n    const slides = this.embla.slideNodes()\r\n    const slideIndex = slides.findIndex(\r\n      ({ attributes }) => attributes['block-id']?.value === blockId,\r\n    )\r\n\r\n    if (slideIndex !== -1) {\r\n      this.embla.scrollTo(slideIndex, load)\r\n      this.stop()\r\n    }\r\n  }\r\n\r\n  handleSectionLoad = ({ detail: { sectionId } }): void => {\r\n    if (this.dataset.sectionId === sectionId) {\r\n      this.stop()\r\n\r\n      if (this.withAutoplay) {\r\n        this.setAutoplay()\r\n      }\r\n\r\n      this.reInit()\r\n    }\r\n  }\r\n\r\n  getOptions = (): Partial<OptionsType> => ({\r\n    loop: this.hasAttribute('data-loop'),\r\n    dragFree: this.hasAttribute('data-drag-free'),\r\n    watchDrag: this.hasAttribute('data-draggable'),\r\n    skipSnaps: this.hasAttribute('data-skip-snaps'),\r\n    align: this.getAttribute('data-align') as AlignmentOptionType,\r\n    containScroll: this.getAttribute(\r\n      'data-contain-scroll',\r\n    ) as ScrollContainOptionType,\r\n    inViewThreshold: +(this.dataset.inViewThreshhold || 0) || 0.75,\r\n    axis: this.getAttribute('data-axis') as AxisOptionType,\r\n    breakpoints: this.hasAttribute('data-breakpoints')\r\n      ? JSON.parse(this.dataset.breakpoints)\r\n      : undefined,\r\n    slidesToScroll: +(this.getAttribute('data-slides-to-scroll') ?? 1),\r\n    startIndex: this.hasAttribute('data-start-index')\r\n      ? Number(this.dataset.startIndex)\r\n      : 0,\r\n  })\r\n\r\n  getPlugins = (): EmblaPluginType[] => {\r\n    const plugins: EmblaPluginType[] = [ClassNamesPlugin()]\r\n\r\n    if (this.hasAttribute('data-with-wheel-gestures')) {\r\n      plugins.push(\r\n        WheelGesturesPlugin({\r\n          forceWheelAxis: this.getAttribute('data-axis') as any,\r\n        }),\r\n      )\r\n    }\r\n\r\n    return plugins\r\n  }\r\n\r\n  setCarousel(): void {\r\n    const viewport = $el('[data-carousel-viewport]', this)\r\n\r\n    if (!viewport) {\r\n      return\r\n    }\r\n\r\n    this.embla = EmblaCarousel(viewport, this.getOptions(), this.getPlugins())\r\n  }\r\n\r\n  setAutoplay() {\r\n    if (this.autoplay) {\r\n      return\r\n    }\r\n\r\n    const autoplayInterval = +(this.dataset.autoplayInterval || 0)\r\n\r\n    this.isPlay = autoplayInterval > 0\r\n\r\n    if (this.withSimpleAutoplay) {\r\n      this.autoplay = oneAtTimeAutoPlay(this.embla, autoplayInterval * 1000)\r\n      this.autoplay.start()\r\n    }\r\n\r\n    if (this.withSeamlessAutoplay) {\r\n      this.autoplay = seamlessAutoPlay(this.embla, autoplayInterval)\r\n      this.autoplay.play()\r\n    }\r\n  }\r\n\r\n  stop(): void {\r\n    if (!this.withAutoplay) {\r\n      return\r\n    }\r\n\r\n    this.autoplay?.stop()\r\n\r\n    this.isPlay = false\r\n\r\n    this.emit('changePlayState', {})\r\n  }\r\n\r\n  play(): void {\r\n    if (!this.withAutoplay) {\r\n      return\r\n    }\r\n\r\n    if (this.withSimpleAutoplay) {\r\n      this.autoplay.start()\r\n    }\r\n\r\n    if (this.withSeamlessAutoplay) {\r\n      this.autoplay.play()\r\n    }\r\n\r\n    this.isPlay = true\r\n\r\n    this.emit('changePlayState', {})\r\n  }\r\n\r\n  resizeFade = (): void => {\r\n    this.classList.remove('carousel--with-fade')\r\n    this.reInit()\r\n  }\r\n\r\n  initFade = (): void => {\r\n    const slide = this.embla.slideNodes()[0]\r\n    const height = slide.getBoundingClientRect().height\r\n\r\n    this.setAttribute('style', `--gsc-fade-height: ${height}px`)\r\n    this.classList.add('carousel--with-fade')\r\n  }\r\n\r\n  reInit = (options: Partial<OptionsType> = {}): void => {\r\n    this.embla.reInit({ ...this.getOptions(), ...options }, this.getPlugins())\r\n  }\r\n}\r\n","__webpack_require__.h = function() { return \"6b1a006fd757fd0be1b0\"; }"],"names":[],"sourceRoot":""}