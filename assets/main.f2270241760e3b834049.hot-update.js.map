{"version":3,"file":"main.f2270241760e3b834049.hot-update.js","mappings":";;;;;;;;;;;;AAAA,0FAA+D;AAC/D,+DAA4C;AAG5C,yEAA6C;AAE7C,MAAM,uBAAuB,GAAG,qBAAqB;AACrD,MAAM,uBAAuB,GAAG,gBAAgB;AAEhD,MAAa,eAAgB,SAAQ,8BAAa;IAChD,cAAc;QACZ,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC;QACrD,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,iBAAiB,CAAC;IACzD,CAAC;IAED,iBAAiB,GAAG,CAAC,KAAiB,EAAQ,EAAE;QAC9C,KAAK,CAAC,cAAc,EAAE;QACtB,IAAI,CAAC,MAAM,EAAE;IACf,CAAC;IAED,aAAa,GAAG,CAAC,KAAoB,EAAQ,EAAE;QAC7C,IAAI,oBAAU,EAAC,KAAK,CAAC,EAAE;YACrB,KAAK,CAAC,cAAc,EAAE;YACtB,IAAI,CAAC,MAAM,EAAE;SACd;IACH,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,UAAU,EAAE;QACjB,IAAI,CAAC,mBAAmB,EAAE;IAC5B,CAAC;IAED,UAAU;QACR,MAAM,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC;QAC7D,MAAM,IAAI,GAAkB,eAAG,EAAC,uBAAuB,CAAC;QACxD,MAAM,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,IAAI,EAAE;QAClC,IAAI,oBAAoB;QAExB,IAAI,IAAI,EAAE;YACR,IAAI,aAAa,EAAE;gBACjB,oBAAoB,GAAG,EAAE;gBACzB,IAAI,CAAC,KAAK,EAAE;aACb;iBAAM;gBACL,oBAAoB;oBAClB,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;aACjE;YAED,IAAI,CAAC,oBAAoB,CAAC,oBAAoB,CAAC;SAChD;IACH,CAAC;IAED,mBAAmB;QACjB,MAAM,aAAa,GAAsB,eAAG,EAAC,uBAAuB,CAAC;QAErE,IAAI,aAAa,EAAE;YACjB,MAAM,cAAc,GAAG,IAAI,CAAC,YAAY,CAAC,wBAAwB,CAAC;YAClE,MAAM,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC;YAE7D,IAAI,aAAa,EAAE;gBACjB,aAAa,CAAC,KAAK,EAAE;aACtB;YAED,IAAI,cAAc,EAAE;gBAClB,IAAI,aAAa,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;oBACtC,aAAa,CAAC,KAAK,EAAE;iBACtB;qBAAM;oBACL,aAAa,CAAC,UAAU,EAAE;oBAC1B,IAAI,CAAC,MAAM,EAAE;iBACd;aACF;SACF;IACH,CAAC;CACF;AA/DD,0CA+DC;;;;;;;;;UCxED,qCAAqC","sources":["webpack://Aurora/./src/scripts/sections/collection-page/filter-remove-btn.ts","webpack://Aurora/webpack/runtime/getFullHash"],"sourcesContent":["import { BaseComponent } from '../../components/base-component'\r\nimport { isEnterKey } from '../../utils/key'\r\nimport { ShopActiveFilters } from './shop-active-filters'\r\nimport { ShopComponent } from './shop'\r\nimport { $el } from 'src/scripts/utils/utils'\r\n\r\nconst ACTIVE_FILTERS_SELECTOR = 'shop-active-filters'\r\nconst SHOP_COMPONENT_SELECTOR = 'shop-component'\r\n\r\nexport class FilterRemoveBtn extends BaseComponent {\r\n  mountComponent(): void {\r\n    this.addListener(this, 'keydown', this.handleKeyDown)\r\n    this.addListener(this, 'click', this.handleButtonClick)\r\n  }\r\n\r\n  handleButtonClick = (event: MouseEvent): void => {\r\n    event.preventDefault()\r\n    this.update()\r\n  }\r\n\r\n  handleKeyDown = (event: KeyboardEvent): void => {\r\n    if (isEnterKey(event)) {\r\n      event.preventDefault()\r\n      this.update()\r\n    }\r\n  }\r\n\r\n  update(): void {\r\n    this.updateShop()\r\n    this.updateActiveFilters()\r\n  }\r\n\r\n  updateShop() {\r\n    const isResetButton = this.hasAttribute('data-filters-reset')\r\n    const shop: ShopComponent = $el(SHOP_COMPONENT_SELECTOR)\r\n    const url = this.dataset.url || ''\r\n    let preparedSearchParams\r\n\r\n    if (shop) {\r\n      if (isResetButton) {\r\n        preparedSearchParams = ''\r\n        shop.reset()\r\n      } else {\r\n        preparedSearchParams =\r\n          url.indexOf('?') === -1 ? '' : url.slice(url.indexOf('?') + 1)\r\n      }\r\n\r\n      shop.updateBySearchParams(preparedSearchParams)\r\n    }\r\n  }\r\n\r\n  updateActiveFilters() {\r\n    const activeFilters: ShopActiveFilters = $el(ACTIVE_FILTERS_SELECTOR)\r\n\r\n    if (activeFilters) {\r\n      const isRemoveButton = this.hasAttribute('data-filter-remove-btn')\r\n      const isResetButton = this.hasAttribute('data-filters-reset')\r\n\r\n      if (isResetButton) {\r\n        activeFilters.reset()\r\n      }\r\n\r\n      if (isRemoveButton) {\r\n        if (activeFilters.buttons.length === 1) {\r\n          activeFilters.reset()\r\n        } else {\r\n          activeFilters.setDisable()\r\n          this.remove()\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","__webpack_require__.h = function() { return \"5c67f8241ad7072d153f\"; }"],"names":[],"sourceRoot":""}