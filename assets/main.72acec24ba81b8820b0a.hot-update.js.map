{"version":3,"file":"main.72acec24ba81b8820b0a.hot-update.js","mappings":";;;;;;;;;;;;AAEA,0FAA+D;AAC/D,+DAA4C;AAC5C,yEAA+C;AAC/C,yEAA+D;AAE/D,MAAM,cAAc,GAAG,wBAAwB;AAC/C,MAAM,aAAa,GAAG,gBAAgB;AACtC,MAAM,gBAAgB,GAAG,mBAAmB;AAC5C,MAAM,aAAa,GAAG,MAAM;AAC5B,MAAM,cAAc,GAAG,OAAO;AAE9B,MAAa,QAAS,SAAQ,8BAAa;IACzC,cAAc;QACZ,MAAM,MAAM,GAAG,iBAAK,EAAC,cAAc,EAAE,IAAI,CAAC;QAE1C,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;YACrB,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,SAAS,EAAE,IAAI,CAAC,kBAAkB,CAAC;QAC7D,CAAC,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC;IACvD,CAAC;IAED,eAAe,GAAG,uBAAQ,EAAC,CAAC,KAAkB,EAAQ,EAAE;QACtD,KAAK,CAAC,cAAc,EAAE;QAEtB,MAAM,IAAI,GAAkB,eAAG,EAAC,aAAa,CAAC;QAC9C,MAAM,OAAO,GAAqB,qBAAS,EAAC,gBAAgB,EAAE,IAAI,CAAC;QACnE,MAAM,KAAK,GAAG,KAAK,CAAC,MAA0B;QAE9C,IAAI,OAAO,EAAE;YACX,OAAO,CAAC,IAAI,EAAE;SACf;QAED,IAAI,IAAI,IAAI,KAAK,EAAE;YACjB,MAAM,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;YAC1C,MAAM,YAAY,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,IAAI,SAAS,EAAE;YAC7D,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC;YACzB,IAAI,CAAC,SAAS,GAAG,SAAS;YAC1B,IAAI,CAAC,oBAAoB,CAAC,YAAY,CAAC;SACxC;IACH,CAAC,EAAE,GAAG,CAAC;IAEP,kBAAkB,GAAG,CAAC,KAAoB,EAAQ,EAAE;QAClD,IAAI,oBAAU,EAAC,KAAK,CAAC,EAAE;YACrB,KAAK,CAAC,cAAc,EAAE;YAEtB,MAAM,KAAK,GAAqB,eAAG,EAAC,cAAc,EAAE,KAAK,CAAC,MAAM,CAAC;YAEjE,IAAI,KAAK,EAAE;gBACT,KAAK,CAAC,aAAa,CAAC,IAAI,UAAU,CAAC,OAAO,EAAE,EAAE,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;aACtE;SACF;IACH,CAAC;IAED,YAAY,CAAC,KAAuB;QAClC,MAAM,IAAI,GAAoB,qBAAS,EAAC,aAAa,EAAE,KAAK,CAAC;QAE7D,IAAI,CAAC,IAAI,EAAE;YACT,OAAO,EAAE;SACV;QAED,OAAO,IAAI,eAAe,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAQ,CAAC,CAAC,QAAQ,EAAE;IAClE,CAAC;CACF;AAnDD,4BAmDC;;;;;;;;;UChED,qCAAqC","sources":["webpack://Aurora/./src/scripts/sections/collection-page/sort-list.ts","webpack://Aurora/webpack/runtime/getFullHash"],"sourcesContent":["import { ShopComponent } from './shop'\r\nimport { SidebarComponent } from '../../components/sidebar/sidebar'\r\nimport { BaseComponent } from '../../components/base-component'\r\nimport { isEnterKey } from '../../utils/key'\r\nimport { debounce } from '../../utils/debounce'\r\nimport { $el, $list, $elParent } from 'src/scripts/utils/utils'\r\n\r\nconst LABEL_SELECTOR = '[data-sort-list-label]'\r\nconst SHOP_SELECTOR = 'shop-component'\r\nconst SIDEBAR_SELECTOR = 'sidebar-component'\r\nconst FORM_SELECTOR = 'form'\r\nconst INPUT_SELECTOR = 'input'\r\n\r\nexport class SortList extends BaseComponent {\r\n  mountComponent(): void {\r\n    const labels = $list(LABEL_SELECTOR, this)\r\n\r\n    labels.forEach(label => {\r\n      this.addListener(label, 'keydown', this.handleLabelKeyDown)\r\n    })\r\n    this.addListener(this, 'input', this.handleFormInput)\r\n  }\r\n\r\n  handleFormInput = debounce((event: SubmitEvent): void => {\r\n    event.preventDefault()\r\n\r\n    const shop: ShopComponent = $el(SHOP_SELECTOR)\r\n    const sidebar: SidebarComponent = $elParent(SIDEBAR_SELECTOR, this)\r\n    const input = event.target as HTMLInputElement\r\n\r\n    if (sidebar) {\r\n      sidebar.hide()\r\n    }\r\n\r\n    if (shop && input) {\r\n      const sortQuery = this.getSortQuery(input)\r\n      const searchParams = `${window.location.search}&${sortQuery}`\r\n      console.log(searchParams)\r\n      shop.sortQuery = sortQuery\r\n      shop.updateBySearchParams(searchParams)\r\n    }\r\n  }, 250)\r\n\r\n  handleLabelKeyDown = (event: KeyboardEvent): void => {\r\n    if (isEnterKey(event)) {\r\n      event.preventDefault()\r\n\r\n      const input: HTMLInputElement = $el(INPUT_SELECTOR, event.target)\r\n\r\n      if (input) {\r\n        input.dispatchEvent(new MouseEvent('click', { button: 0, which: 1 }))\r\n      }\r\n    }\r\n  }\r\n\r\n  getSortQuery(input: HTMLInputElement): string {\r\n    const form: HTMLFormElement = $elParent(FORM_SELECTOR, input)\r\n\r\n    if (!form) {\r\n      return ''\r\n    }\r\n\r\n    return new URLSearchParams(new FormData(form) as any).toString()\r\n  }\r\n}\r\n","__webpack_require__.h = function() { return \"3b4c15309606fd9d463c\"; }"],"names":[],"sourceRoot":""}